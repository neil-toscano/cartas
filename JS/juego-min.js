const modulo=(()=>{"use strict";let e=[],t=["C","D","H","S"],l=["A","J","Q","K"],r=document.querySelector("#btnPedir"),s=document.querySelector("#btnNuevo"),d=document.querySelector("#btnDetener"),i=document.querySelectorAll(".divCartas"),a=document.querySelectorAll("small"),o=[];console.log(r);let n=(t=2)=>{e=u(),o=[];for(let l=0;l<t;l++)o.push(0);for(o[0]=0,d.removeAttribute("disabled"),r.removeAttribute("disabled");i[0].hasChildNodes();)i[0].removeChild(i[0].firstChild);for(;i[1].hasChildNodes();)i[1].removeChild(i[1].firstChild);a.forEach(e=>{e.innerHTML=0})},u=()=>{e=[];for(let r=2;r<=10;r++)for(let s=0;s<4;s++)e.push(`${r}${t[s]}`);for(let d of l)for(let i of t)e.push(`${d}${i}`);return _.shuffle(e)},b=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.shift()},c=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:parseInt(t)},$=(e="",t=0)=>(o[t]=o[t]+c(e),a[t].innerHTML=o[t],o[t]),h=(e="",t=0)=>{let l=document.createElement("img");l.setAttribute("class","carta"),l.setAttribute("src",`./assets/cartas/cartas/${e}.png`),i[t].append(l)},f=()=>{let[e,t]=o;setTimeout(()=>{t===e?alert("nadie gana/empate"):e>21?alert("compu gana :K"):t>21?alert("Jugador Gana"):alert("Compu gana")},100)},g=(e=0)=>{let t=0;do{let l=b();t=$(l,1),h(l,1),console.log(t)}while(t<e&&e<=21);f()};return r.addEventListener("click",()=>{let e=b(),t=$(e,0);h(e,0),t>21?(console.log("puntos"),console.log("perdiste"),r.setAttribute("disabled","disabled"),d.setAttribute("disabled","disabled"),g(t)):21===t&&(console.log("21, genial"),r.setAttribute("disabled","disabled"),d.setAttribute("disabled","disabled"),g(t))},10),d.addEventListener("click",()=>{d.setAttribute("disabled","disabled"),r.setAttribute("disabled","disabled"),g(o[0])}),s.addEventListener("click",()=>{n(2)}),{nuevoJuego:n}})();